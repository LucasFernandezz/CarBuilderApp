<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Car Builder</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
    <h1>üöô Car Builder</h1>
  </header>

  <main>
    <div class="compatibility-bar success" id="compatibility-status">
      ‚úÖ Compatibility: No issues or incompatibilities found.
    </div>

    <section class="builder-table">
      <table>
        <thead>
          <tr>
            <th>Component</th>
            <th>Selection</th>
            <th>Price</th>
            <th>Where to Buy</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Engine</td>
            <td id="engine-cell"></td>
            <td>‚Äî</td>
            <td>‚Äî</td>
          </tr>
          <tr>
            <td>Transmission</td>
            <td id="transmission-cell"></td>
            <td>‚Äî</td>
            <td>‚Äî</td>
          </tr>
          <tr>
            <td>Suspension</td>
            <td id="suspension-cell"></td>
            <td>‚Äî</td>
            <td>‚Äî</td>
          </tr>
          <tr>
            <td>Brakes</td>
            <td id="brakes-cell"></td>
            <td>‚Äî</td>
            <td>‚Äî</td>
          </tr>
          <tr>
            <td>Wheels</td>
            <td id="wheels-cell"></td>
            <td>‚Äî</td>
            <td>‚Äî</td>
          </tr>
          <tr>
            <td>Frame (Chassis)</td>
            <td id="frame-cell"></td>
            <td>‚Äî</td>
            <td>‚Äî</td>
          </tr>
        </tbody>
      </table>
    </section>
  </main>

  <script>
    const parts = ['engine', 'transmission', 'suspension', 'brakes', 'wheels', 'frame'];

    parts.forEach(part => {
      const saved = localStorage.getItem(`selected_${part}`);
      const cell = document.getElementById(`${part}-cell`);

      if (saved) {
        cell.innerHTML = `
          <span>${saved}</span>
          <button class="select-btn" style="margin-left:1rem;" onclick="removePart('${part}')">‚ùå Remove</button>
        `;
      } else {
        cell.innerHTML = `<a class="select-btn" href="${part}.html">+ Choose ${capitalize(part)}</a>`;
      }
    });

    function capitalize(str) {
      return str.charAt(0).toUpperCase() + str.slice(1).replace('_', ' ');
    }

    function removePart(part) {
      localStorage.removeItem(`selected_${part}`);
      location.reload();
    }
  </script>
</body>
</html>
